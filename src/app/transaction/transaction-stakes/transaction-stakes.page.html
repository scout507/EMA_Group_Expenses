<ion-header>
  <ion-toolbar>
    <ion-title>Geld aufteilen</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item *ngFor="let participant of transaction.participation">
      <ion-avatar>
        <img [src]="sanitizer.bypassSecurityTrustUrl(participant.user.profilePic)">
      </ion-avatar>
      <ion-text>{{participant.user.displayName ? participant.user.displayName : participant.user.userName}}</ion-text>
      <ion-input type="number" [(ngModel)]="participant.stake" class="ion-text-right"></ion-input>
      <ion-text>€</ion-text>
    </ion-item>
  </ion-list>
  <ion-item>
    <ion-label class="ion-text-right">Ausgewählt: {{getCurrentAmount()}}€ von {{transaction.amount}}€</ion-label>
  </ion-item>
  <ion-text *ngIf="errors.get('amount')" color="danger">{{errors.get('amount')}}</ion-text>
  <ion-fab horizontal="end" vertical="bottom" slot="fixed">
    <ion-fab-button (click)="handleSubmit()">
      <ion-icon name="checkmark"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-fab horizontal="start" vertical="bottom" slot="fixed">
    <ion-fab-button>
      <ion-icon name="close" (click)="router.navigate(['home'])"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>

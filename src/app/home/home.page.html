
<ion-header>
  <ion-toolbar color="primary">
    <ion-title *ngIf="!searchbarVisible">Übersicht</ion-title>
    <ion-button *ngIf="!searchbarVisible" (click)="startSearch()" slot="end">
      <ion-icon slot="icon-only" name="search"></ion-icon>
    </ion-button>
    <ion-searchbar [(ngModel)]="search" *ngIf="searchbarVisible"
                   (ionChange)="doSearch()"
                   (ionCancel)="cancelSearch()"
                   (ionClear)="clearSearch()"
                   [showCancelButton]="true"
                   [showClearButton]="true"
                   placeholder="Suche">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row class="ion-justify-content-evenly">
      <ion-col class="ion-no-padding">
          <ion-button expand="full" (click)="buttonHandler(0); filterTransaction(this.search)">
            <ion-text></ion-text>
            <ion-text>{{outgoing}}€ Ausgaben</ion-text>
          </ion-button>
      </ion-col>
      <ion-col class="ion-no-padding">
          <ion-button expand="full" (click)="buttonHandler(1); filterTransaction(this.search)">{{incoming}}€ Einnahmen</ion-button>
      </ion-col>
      <ion-col class="ion-no-padding">
          <ion-button expand="full" (click)="buttonHandler(2); filterTransaction(this.search)">{{pending}} Ausstehend</ion-button>
      </ion-col>
      <ion-col class="ion-no-padding">
          <ion-button expand="full" (click)="buttonHandler(3); filterTransaction(this.search)">{{confirm}} Bestätigen</ion-button>
      </ion-col>
    </ion-row>

  </ion-grid>

  <ion-list>
      <ion-item button *ngFor="let transaction of filteredTransactions" (click)="viewTransaction(transaction)" lines="full">
        <ion-grid style=" margin-bottom: 1%; margin-top: 1%; width: 100%; height: 100%;">
          <ion-row>
          <ion-col align="left">bild</ion-col>
          <ion-col>
            <div>{{transaction.purpose}}</div>
            <div style="font-size: small">{{transaction.group? transaction.group.name : "Gruppenname" }}, {{transaction.creator.displayName}}</div>
          </ion-col>
          <ion-col align="right" >{{transaction.amount}}€</ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
  </ion-list>



</ion-content>

<ion-footer>
  <ion-toolbar>
  <ion-tabs>

    <ion-tab tab="tab-home">
      <ion-nav></ion-nav>
    </ion-tab>

    <ion-tab tab="tab-payment">
      <ion-nav></ion-nav>
    </ion-tab>

    <ion-tab tab="group">
      <ion-nav></ion-nav>
    </ion-tab>

    <ion-tab tab="profile">
      <ion-nav></ion-nav>
    </ion-tab>

    <ion-tab-bar slot="top">
      <ion-tab-button tab="tab-home">
        <ion-icon name="home-outline"></ion-icon>
        <ion-badge>6</ion-badge>
      </ion-tab-button>

      <ion-tab-button tab="tab-payment" (click)="redirect('transaction')">
        <ion-icon name="cash-outline"></ion-icon>
      </ion-tab-button>

      <ion-tab-button tab="group" (click)="redirect('group')">
        <ion-icon name="people-outline"></ion-icon>
      </ion-tab-button>

      <ion-tab-button tab="profile">
        <ion-icon name="person-outline"></ion-icon>
      </ion-tab-button>
    </ion-tab-bar>

  </ion-tabs>
  </ion-toolbar>
</ion-footer>
